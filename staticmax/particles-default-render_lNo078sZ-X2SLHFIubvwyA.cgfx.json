{"version": 1,"name": "particles-default-render.cgfx","samplers":{"previousState":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"creationState":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"mappingTable":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"vParticleState":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"fParticleState":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"animation":{"MinFilter": 9728,"MagFilter": 9728,"WrapS": 33071,"WrapT": 33071},"texture":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 33071,"WrapT": 33071},"noiseTexture":{"MinFilter": 9985,"MagFilter": 9729,"WrapS": 10497,"WrapT": 10497}},"parameters":{"textureSize":{"type": "float","columns": 2},"invTextureSize":{"type": "float","columns": 2},"regionSize":{"type": "float","columns": 2},"invRegionSize":{"type": "float","columns": 2},"regionPos":{"type": "float","columns": 2},"halfExtents":{"type": "float","columns": 3},"center":{"type": "float","columns": 3},"maxLifeTime":{"type": "float"},"previousState":{"type": "sampler2D"},"shift":{"type": "float","columns": 3},"timeStep":{"type": "float"},"lifeStep":{"type": "float"},"maxSpeed":{"type": "float"},"creationState":{"type": "sampler2D"},"creationScale":{"type": "float","columns": 2},"projection":{"type": "float","rows": 4,"columns": 4},"modelView":{"type": "float","rows": 4,"columns": 3},"mappingTable":{"type": "sampler2D"},"mappingSize":{"type": "float","columns": 2},"invMappingSize":{"type": "float","columns": 2},"mappingPos":{"type": "float","columns": 2},"vParticleState":{"type": "sampler2D"},"fParticleState":{"type": "sampler2D"},"PARTICLE_POS":{"type": "float","columns": 2,"values": [0.5,0.5]},"PARTICLE_VEL":{"type": "float","columns": 2,"values": [1.5,0.5]},"PARTICLE_LIFE":{"type": "float","columns": 2,"values": [2.5,0.5]},"PARTICLE_ANIM":{"type": "float","columns": 2,"values": [2.5,1.5]},"PARTICLE_DATA":{"type": "float","columns": 2,"values": [2.5,2.5]},"animationSize":{"type": "float","columns": 2},"animation":{"type": "sampler2D"},"zSorted":{"type": "bool"},"texture":{"type": "sampler2D"},"animationScale":{"type": "float","columns": 4},"animationRotation":{"type": "float","columns": 2},"noiseTexture":{"type": "sampler2D"},"randomizedRotation":{"type": "float"},"randomizedScale":{"type": "float","columns": 2},"randomizedOrientation":{"type": "float","columns": 2},"randomizedAlpha":{"type": "float"},"animatedRotation":{"type": "bool"},"animatedScale":{"type": "bool"},"animatedOrientation":{"type": "bool"},"animatedAlpha":{"type": "bool"},"invFadeOutDistance":{"type": "float"},"fadeScale":{"type": "float"},"lightColor":{"type": "float","columns": 3},"ambientColor":{"type": "float","columns": 3},"quadVertex":{"type": "float","rows": 4,"columns": 2,"values": [-1,-1,1,-1,1,1,-1,1]}},"techniques":{"opaque":[{"parameters": ["invTextureSize","regionSize","invRegionSize","regionPos","halfExtents","center","maxLifeTime","projection","modelView","mappingTable","invMappingSize","mappingPos","vParticleState","PARTICLE_POS","PARTICLE_VEL","PARTICLE_LIFE","PARTICLE_ANIM","PARTICLE_DATA","animationSize","animation","zSorted","animationScale","animationRotation","noiseTexture","randomizedRotation","randomizedScale","randomizedOrientation","randomizedAlpha","animatedRotation","animatedScale","animatedOrientation","animatedAlpha","invFadeOutDistance","fadeScale","quadVertex","texture"],"semantics": ["ATTR0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": false},"programs": ["vp_render","fp_render"]}],"opaque_lit":[{"parameters": ["invTextureSize","regionSize","invRegionSize","regionPos","halfExtents","center","maxLifeTime","projection","modelView","mappingTable","invMappingSize","mappingPos","vParticleState","PARTICLE_POS","PARTICLE_VEL","PARTICLE_LIFE","PARTICLE_ANIM","PARTICLE_DATA","animationSize","animation","zSorted","animationScale","animationRotation","noiseTexture","randomizedRotation","randomizedScale","randomizedOrientation","randomizedAlpha","animatedRotation","animatedScale","animatedOrientation","animatedAlpha","invFadeOutDistance","fadeScale","lightColor","ambientColor","quadVertex","texture"],"semantics": ["ATTR0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": false},"programs": ["vp_render_lit","fp_render"]}],"alpha":[{"parameters": ["invTextureSize","regionSize","invRegionSize","regionPos","halfExtents","center","maxLifeTime","projection","modelView","mappingTable","invMappingSize","mappingPos","vParticleState","PARTICLE_POS","PARTICLE_VEL","PARTICLE_LIFE","PARTICLE_ANIM","PARTICLE_DATA","animationSize","animation","zSorted","animationScale","animationRotation","noiseTexture","randomizedRotation","randomizedScale","randomizedOrientation","randomizedAlpha","animatedRotation","animatedScale","animatedOrientation","animatedAlpha","invFadeOutDistance","fadeScale","quadVertex","texture"],"semantics": ["ATTR0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [770,771]},"programs": ["vp_render","fp_alpha"]}],"alpha_lit":[{"parameters": ["invTextureSize","regionSize","invRegionSize","regionPos","halfExtents","center","maxLifeTime","projection","modelView","mappingTable","invMappingSize","mappingPos","vParticleState","PARTICLE_POS","PARTICLE_VEL","PARTICLE_LIFE","PARTICLE_ANIM","PARTICLE_DATA","animationSize","animation","zSorted","animationScale","animationRotation","noiseTexture","randomizedRotation","randomizedScale","randomizedOrientation","randomizedAlpha","animatedRotation","animatedScale","animatedOrientation","animatedAlpha","invFadeOutDistance","fadeScale","lightColor","ambientColor","quadVertex","texture"],"semantics": ["ATTR0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [770,771]},"programs": ["vp_render_lit","fp_alpha"]}],"additive":[{"parameters": ["invTextureSize","regionSize","invRegionSize","regionPos","halfExtents","center","maxLifeTime","projection","modelView","mappingTable","invMappingSize","mappingPos","vParticleState","PARTICLE_POS","PARTICLE_VEL","PARTICLE_LIFE","PARTICLE_ANIM","PARTICLE_DATA","animationSize","animation","zSorted","animationScale","animationRotation","noiseTexture","randomizedRotation","randomizedScale","randomizedOrientation","randomizedAlpha","animatedRotation","animatedScale","animatedOrientation","animatedAlpha","invFadeOutDistance","fadeScale","quadVertex","texture"],"semantics": ["ATTR0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [770,1]},"programs": ["vp_render","fp_alpha"]}],"additive_lit":[{"parameters": ["invTextureSize","regionSize","invRegionSize","regionPos","halfExtents","center","maxLifeTime","projection","modelView","mappingTable","invMappingSize","mappingPos","vParticleState","PARTICLE_POS","PARTICLE_VEL","PARTICLE_LIFE","PARTICLE_ANIM","PARTICLE_DATA","animationSize","animation","zSorted","animationScale","animationRotation","noiseTexture","randomizedRotation","randomizedScale","randomizedOrientation","randomizedAlpha","animatedRotation","animatedScale","animatedOrientation","animatedAlpha","invFadeOutDistance","fadeScale","lightColor","ambientColor","quadVertex","texture"],"semantics": ["ATTR0"],"states":{"DepthTestEnable": true,"DepthFunc": 515,"DepthMask": false,"CullFaceEnable": false,"BlendEnable": true,"BlendFunc": [770,1]},"programs": ["vp_render_lit","fp_alpha"]}]},"programs":{"fp_alpha":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[2];\nvec4 _TMP0;uniform sampler2D texture;void main()\n{vec4 _color;_TMP0=texture2D(texture,tz_TexCoord[1].xy);_color=_TMP0*tz_Color;if(_color.w<4.00000019E-03){discard;}\ngl_FragColor=_color;}"},"vp_render_lit":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[2];attribute vec4 ATTR0;\nvec4 _outPosition2;vec4 _outColor2;vec2 _outUV2;vec3 _TMP19;vec3 _TMP17;float _TMP57;float _TMP60;vec3 _TMP14;float _TMP56;float _TMP55;float _TMP46;float _TMP45;float _TMP43;float _TMP41;vec4 _TMP44;float _TMP58;float _TMP52;vec4 _TMP42;vec4 _TMP40;float _TMP35;vec2 _TMP11;vec4 _TMP39;float _TMP10;vec4 _TMP38;vec2 _TMP9;vec4 _TMP37;float _TMP50;float _TMP8;vec4 _TMP36;vec3 _TMP59;float _TMP6;float _TMP5;vec3 _TMP4;vec3 _TMP3;float _TMP33;float _TMP31;float _TMP29;vec4 _TMP32;vec4 _TMP30;vec4 _TMP28;vec2 _TMP27;vec2 _TMP26;vec2 _TMP2;vec4 _TMP20;vec2 _regionIndex0115;float _life0115;vec4 _outPosition0115;vec2 _outUV0115;vec4 _outColor0115;float _animTime0115;vec3 _particlePos0115;vec3 _pos0115;float _fadeOutAlpha0115;vec2 _scale0115;vec2 _inPosition0115;float _rad0115;vec3 _right0115;vec3 _up0115;bool _TMP116;vec2 _TMP117;float _i0118;float _y0118;vec2 _index0118;vec2 _mappingUV10118;float _x0120;vec2 _p0122;vec4 _life0126;vec2 _c0128;float _TMP135;vec4 _TMP141;vec2 _c0144;vec4 _life0146;vec2 _c0148;float _TMP155;float _TMP167;vec4 _c010174;vec2 _c0176;float _TMP183;float _TMP195;vec2 _TMP201;vec2 _enc10202;float _TMP205;vec2 _x0212;vec2 _c0218;float _TMP227;vec2 _c0234;float _TMP243;vec2 _c0250;float _TMP259;float _x0272;float _TMP273;vec4 _color0280;vec4 _TMP281;float _s0282;vec2 _c0284;vec3 _x0286;vec3 _TMP287;float _t0300;vec2 _c0302;float _x0306;float _x0308;float _TMP309;vec2 _scale0316;vec4 _TMP319;float _s0320;vec2 _c0322;float _TMP329;float _TMP341;float _t0348;vec2 _c0350;float _x0354;float _rad0356;vec4 _TMP359;float _s0360;vec2 _c0362;float _TMP369;float _t0376;vec2 _c0378;float _x0382;float _c0384;float _s0384;vec3 _TMP1140384[3];float _t0390;vec2 _c0392;float _cp0394;float _sp0394;float _ct0394;float _st0394;vec3 _TMP1130394[3];vec3 _r0404;vec3 _r0412;float _x0422;float _cp0424;float _sp0424;float _ct0424;float _st0424;vec3 _TMP1120424[3];float _a0426;float _a0428;float _a0430;float _a0432;vec3 _C0434[3];vec3 _r0436;vec3 _v0436;vec2 _c0448;float _TMP457;vec2 _c0464;float _TMP473;vec2 _c0480;float _TMP489;vec3 _TMP495[3];vec3 _up0496;vec3 _right0496;vec3 _at0496;vec3 _C0518[3];vec3 _r0520;vec3 _v0520;vec3 _pt0532;float _TMP533;float _TMP541;float _TMP549;vec3 _r0558;float _x0568;float _x0572;vec4 _r0576;vec4 _v0576;vec4 _TMP579;float _s0580;vec2 _c0582;vec3 _TMP583;vec3 _TMP584;vec3 _TMP585;uniform vec2 invTextureSize;uniform vec2 regionSize;uniform vec2 invRegionSize;uniform vec2 regionPos;uniform vec3 halfExtents;uniform vec3 center;uniform float maxLifeTime;uniform vec4 projection[4];uniform vec3 modelView[4];uniform sampler2D mappingTable;uniform vec2 invMappingSize;uniform vec2 mappingPos;uniform sampler2D vParticleState;uniform vec2 PARTICLE_POS;uniform vec2 PARTICLE_VEL;uniform vec2 PARTICLE_LIFE;uniform vec2 PARTICLE_ANIM;uniform vec2 PARTICLE_DATA;uniform vec2 animationSize;uniform sampler2D animation;uniform bool zSorted;uniform vec4 animationScale;uniform vec2 animationRotation;uniform sampler2D noiseTexture;uniform float randomizedRotation;uniform vec2 randomizedScale;uniform vec2 randomizedOrientation;uniform float randomizedAlpha;uniform bool animatedRotation;uniform bool animatedScale;uniform bool animatedOrientation;uniform bool animatedAlpha;uniform float invFadeOutDistance;uniform float fadeScale;uniform vec3 lightColor;uniform vec3 ambientColor;uniform vec2 quadVertex[4];void main()\n{_TMP116=true;_i0118=ATTR0.y*3.0;_x0120=_i0118*invRegionSize.x;_y0118=floor(_x0120);_index0118=vec2(_i0118-_y0118*regionSize.x,_y0118*3.0);if(zSorted){_p0122=(_index0118+vec2(1.5,1.5))*invRegionSize;_mappingUV10118=(mappingPos+regionSize*_p0122*vec2(3.33333343E-01,3.33333343E-01))*invMappingSize;_TMP20=texture2D(mappingTable,_mappingUV10118);_TMP117=_TMP20.xy*vec2(765.0,765.0);}else{_TMP117=_index0118;}\n_regionIndex0115=_TMP117+regionPos;_c0128=(_regionIndex0115+PARTICLE_LIFE)*invTextureSize;_life0126=texture2D(vParticleState,_c0128);_TMP50=dot(_life0126.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP135=max(0.0,_TMP52);_life0115=_TMP135*maxLifeTime;if(_life0115==0.0){_outPosition0115=vec4(0.0,0.0,0.0,0.0);_outUV0115=vec2(0.0,0.0);_outColor0115=vec4(0.0,0.0,0.0,0.0);_TMP116=false;}\nif(_TMP116){_c0144=(_regionIndex0115+PARTICLE_DATA)*invTextureSize;_TMP141=texture2D(vParticleState,_c0144);_c0148=(_regionIndex0115+PARTICLE_LIFE)*invTextureSize;_life0146=texture2D(vParticleState,_c0148);_TMP50=dot(_life0146.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP155=max(0.0,_TMP52);_TMP50=dot(_life0146.xy,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP167=max(0.0,_TMP52);_TMP2=vec2(_TMP155,_TMP167);_c0176=(_regionIndex0115+PARTICLE_ANIM)*invTextureSize;_c010174=texture2D(vParticleState,_c0176);_TMP50=dot(_c010174.xy,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP183=max(0.0,_TMP52);_TMP50=dot(_c010174.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP195=max(0.0,_TMP52);_animTime0115=_TMP183-(_TMP2.x/_TMP2.y)*_TMP195;if(_TMP141.z>=1.0){_TMP201=vec2(1.0,1.0);}else{_TMP52=min(1.0,_TMP141.z);_TMP205=max(0.0,_TMP52);_x0212=_TMP205*vec2(16.0,1.0);_TMP26=fract(_x0212);_enc10202=_TMP26*16.0;_enc10202.y=_enc10202.y-_enc10202.x/16.0;_TMP27=floor(_enc10202);_TMP201=_TMP27/15.0;}\n_c0218=(_regionIndex0115+PARTICLE_POS)*invTextureSize;_TMP28=texture2D(vParticleState,_c0218);_TMP58=dot(_TMP28,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP227=max(0.0,_TMP52);_TMP29=(_TMP227-0.5)*2.0;_c0234=(_regionIndex0115+PARTICLE_POS+vec2(0.0,1.0))*invTextureSize;_TMP30=texture2D(vParticleState,_c0234);_TMP58=dot(_TMP30,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP243=max(0.0,_TMP52);_TMP31=(_TMP243-0.5)*2.0;_c0250=(_regionIndex0115+PARTICLE_POS+vec2(0.0,2.0))*invTextureSize;_TMP32=texture2D(vParticleState,_c0250);_TMP58=dot(_TMP32,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP259=max(0.0,_TMP52);_TMP33=(_TMP259-0.5)*2.0;_TMP3=vec3(_TMP29,_TMP31,_TMP33);_particlePos0115=_TMP3*halfExtents;_pos0115=_particlePos0115+center;_TMP4=abs(_particlePos0115);_particlePos0115=halfExtents-_TMP4;_TMP5=min(_particlePos0115.y,_particlePos0115.z);_TMP6=min(_particlePos0115.x,_TMP5);_x0272=_TMP6*invFadeOutDistance;_TMP52=min(1.0,_x0272);_TMP273=max(0.0,_TMP52);_fadeOutAlpha0115=_TMP273*fadeScale+(1.0-fadeScale);_s0282=0.5/animationSize.y;_c0284=vec2(_animTime0115,_s0282);_TMP281=texture2D(animation,_c0284);_color0280=_TMP281;_x0286=lightColor+ambientColor;_TMP59=min(vec3(1.0,1.0,1.0),_x0286);_TMP287=max(vec3(0.0,0.0,0.0),_TMP59);_color0280.xyz=_TMP281.xyz*_TMP287;_outColor0115=_color0280;_x0306=_TMP141.w*3.18750000E+01;_TMP35=fract(_x0306);if(_TMP35>=0.5){_t0300=_life0115*float(animatedAlpha);_c0302=_TMP201+vec2(2.59169251E-01,9.68880057E-02)*_t0300+vec2(8.36957872E-01,9.04777646E-01);_TMP36=texture2D(noiseTexture,_c0302);_TMP8=(2.0*_TMP36.w-1.0)*randomizedAlpha;_outColor0115.w=_TMP281.w+_TMP8;}\n_x0308=_outColor0115.w*_fadeOutAlpha0115;_TMP52=min(1.0,_x0308);_TMP309=max(0.0,_TMP52);_outColor0115.w=_TMP309;if(_TMP309<4.00000019E-03){_outPosition0115=vec4(0.0,0.0,0.0,0.0);_outUV0115=vec2(0.0,0.0);_outColor0115=vec4(0.0,0.0,0.0,0.0);_TMP116=false;}\nif(_TMP116){_s0320=1.5/animationSize.y;_c0322=vec2(_animTime0115,_s0320);_TMP319=texture2D(animation,_c0322);_TMP50=dot(_TMP319.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP329=max(0.0,_TMP52);_TMP50=dot(_TMP319.xy,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP341=max(0.0,_TMP52);_scale0316=vec2(_TMP329,_TMP341);_scale0115=animationScale.xy+_scale0316*animationScale.zw;_x0354=_TMP141.w*7.96875;_TMP35=fract(_x0354);if(_TMP35>=0.5){_t0348=_life0115*float(animatedScale);_c0350=_TMP201+vec2(1.39369339E-01,7.58428156E-01)*_t0348+vec2(1.82852328E-01,1.48580581E-01);_TMP37=texture2D(noiseTexture,_c0350);_TMP9=(2.0*_TMP37.xw-1.0)*randomizedScale;_scale0115=_scale0115+_TMP9;}\n_inPosition0115=(quadVertex[(int(ATTR0.x))]*_scale0115)*0.5;_s0360=2.5/animationSize.y;_c0362=vec2(_animTime0115,_s0360);_TMP359=texture2D(animation,_c0362);_TMP58=dot(_TMP359,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP369=max(0.0,_TMP52);_rad0356=animationRotation.x+_TMP369*animationRotation.y;_rad0115=_rad0356;_x0382=_TMP141.w*3.984375;_TMP35=fract(_x0382);if(_TMP35>=0.5){_t0376=_life0115*float(animatedRotation);_c0378=_TMP201+vec2(6.80039465E-01,3.26437414E-01)*_t0376+vec2(2.60632575E-01,2.91877478E-01);_TMP38=texture2D(noiseTexture,_c0378);_TMP10=(2.0*_TMP38.z-1.0)*randomizedRotation;_rad0115=_rad0356+_TMP10;}\n_c0384=cos(_rad0115);_s0384=sin(_rad0115);_TMP1140384[0]=vec3(_c0384,_s0384,0.0);_TMP1140384[1]=vec3(-_s0384,_c0384,0.0);_right0115=vec3(1.0,0.0,0.0);_up0115=vec3(0.0,1.0,0.0);_x0422=_TMP141.w*1.59375000E+01;_TMP35=fract(_x0422);if(_TMP35>=0.5){_t0390=_life0115*float(animatedOrientation);_c0392=_TMP201+vec2(4.03906703E-01,3.20540577E-01)*_t0390+vec2(4.88128573E-01,9.65456218E-02);_TMP39=texture2D(noiseTexture,_c0392);_TMP11=(2.0*_TMP39.yx-1.0)*randomizedOrientation;_cp0394=cos(_TMP11.y);_sp0394=sin(_TMP11.y);_ct0394=cos(_TMP11.x);_st0394=sin(_TMP11.x);_TMP1130394[0]=vec3(_cp0394,_sp0394*_st0394,-_sp0394*_ct0394);_TMP1130394[1]=vec3(0.0,_ct0394,_st0394);_TMP1130394[2]=vec3(_sp0394,-_cp0394*_st0394,_cp0394*_ct0394);_r0404.x=dot(_TMP1130394[0],vec3(1.0,0.0,0.0));_r0404.y=dot(_TMP1130394[1],vec3(1.0,0.0,0.0));_r0404.z=dot(_TMP1130394[2],vec3(1.0,0.0,0.0));_right0115=_r0404;_r0412.x=dot(_TMP1130394[0],vec3(0.0,1.0,0.0));_r0412.y=dot(_TMP1130394[1],vec3(0.0,1.0,0.0));_r0412.z=dot(_TMP1130394[2],vec3(0.0,1.0,0.0));_up0115=_r0412;}\n_x0572=_TMP141.w*9.96093750E-01;_TMP35=fract(_x0572);if(_TMP35>=0.5){_a0426=_TMP141.x*6.28318548;_cp0424=cos(_a0426);_a0428=_TMP141.x*6.28318548;_sp0424=sin(_a0428);_a0430=_TMP141.y*3.14159274;_ct0424=cos(_a0430);_a0432=_TMP141.y*3.14159274;_st0424=sin(_a0432);_TMP1120424[0]=vec3(_cp0424,_sp0424*_st0424,-_sp0424*_ct0424);_TMP1120424[1]=vec3(0.0,_ct0424,_st0424);_TMP1120424[2]=vec3(_sp0424,-_cp0424*_st0424,_cp0424*_ct0424);_C0434[0]=_TMP1120424[0].x*_TMP1140384[0]+_TMP1120424[0].y*_TMP1140384[1]+_TMP1120424[0].z*vec3(0.0,0.0,1.0);_C0434[1]=_TMP1120424[1].x*_TMP1140384[0]+_TMP1120424[1].y*_TMP1140384[1]+_TMP1120424[1].z*vec3(0.0,0.0,1.0);_C0434[2]=_TMP1120424[2].x*_TMP1140384[0]+_TMP1120424[2].y*_TMP1140384[1]+_TMP1120424[2].z*vec3(0.0,0.0,1.0);_v0436=_right0115*_inPosition0115.x+_up0115*_inPosition0115.y;_r0436.x=dot(_C0434[0],_v0436);_r0436.y=dot(_C0434[1],_v0436);_r0436.z=dot(_C0434[2],_v0436);_pos0115=_pos0115+_r0436;_pos0115=_pos0115.x*modelView[0]+_pos0115.y*modelView[1]+_pos0115.z*modelView[2];}else{_x0568=_TMP141.w*1.9921875;_TMP35=fract(_x0568);if(_TMP35>=0.5){_c0448=(_regionIndex0115+PARTICLE_VEL)*invTextureSize;_TMP40=texture2D(vParticleState,_c0448);_TMP58=dot(_TMP40,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP457=max(0.0,_TMP52);_TMP41=(_TMP457-0.5)*2.0;_c0464=(_regionIndex0115+PARTICLE_VEL+vec2(0.0,1.0))*invTextureSize;_TMP42=texture2D(vParticleState,_c0464);_TMP58=dot(_TMP42,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP473=max(0.0,_TMP52);_TMP43=(_TMP473-0.5)*2.0;_c0480=(_regionIndex0115+PARTICLE_VEL+vec2(0.0,2.0))*invTextureSize;_TMP44=texture2D(vParticleState,_c0480);_TMP58=dot(_TMP44,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP489=max(0.0,_TMP52);_TMP45=(_TMP489-0.5)*2.0;_TMP14=vec3(_TMP41,_TMP43,_TMP45);_right0496=vec3(1.0,0.0,0.0)*_TMP14.zxy-vec3(0.0,0.0,1.0)*_TMP14.yzx;_TMP46=dot(_right0496,_right0496);if(_TMP46<=0.0){_TMP495[0]=vec3(1.0,0.0,0.0);_TMP495[1]=vec3(0.0,0.0,-1.0);_TMP495[2]=vec3(0.0,1.0,0.0);}else{_TMP55=dot(_TMP14,_TMP14);_TMP56=inversesqrt(_TMP55);_at0496=_TMP56*_TMP14;_TMP55=dot(_right0496,_right0496);_TMP56=inversesqrt(_TMP55);_right0496=_TMP56*_right0496;_up0496=_at0496.yzx*_right0496.zxy-_at0496.zxy*_right0496.yzx;_TMP583.x=_right0496.x;_TMP583.y=_up0496.x;_TMP583.z=_at0496.x;_TMP584.x=_right0496.y;_TMP584.y=_up0496.y;_TMP584.z=_at0496.y;_TMP585.x=_right0496.z;_TMP585.y=_up0496.z;_TMP585.z=_at0496.z;_TMP495[0]=_TMP583;_TMP495[1]=_TMP584;_TMP495[2]=_TMP585;}\n_C0518[0]=_TMP495[0].x*_TMP1140384[0]+_TMP495[0].y*_TMP1140384[1]+_TMP495[0].z*vec3(0.0,0.0,1.0);_C0518[1]=_TMP495[1].x*_TMP1140384[0]+_TMP495[1].y*_TMP1140384[1]+_TMP495[1].z*vec3(0.0,0.0,1.0);_C0518[2]=_TMP495[2].x*_TMP1140384[0]+_TMP495[2].y*_TMP1140384[1]+_TMP495[2].z*vec3(0.0,0.0,1.0);_v0520=_right0115*_inPosition0115.x+_up0115*_inPosition0115.y;_r0520.x=dot(_C0518[0],_v0520);_r0520.y=dot(_C0518[1],_v0520);_r0520.z=dot(_C0518[2],_v0520);_pos0115=_pos0115+_r0520;_pos0115=_pos0115.x*modelView[0]+_pos0115.y*modelView[1]+_pos0115.z*modelView[2];}else{_pos0115=_pos0115.x*modelView[0]+_pos0115.y*modelView[1]+_pos0115.z*modelView[2];_pt0532=_right0115*_inPosition0115.x+_up0115*_inPosition0115.y;_TMP57=dot(modelView[0],modelView[0]);_TMP60=inversesqrt(_TMP57);_TMP533=1.0/_TMP60;_TMP57=dot(modelView[1],modelView[1]);_TMP60=inversesqrt(_TMP57);_TMP541=1.0/_TMP60;_TMP57=dot(modelView[2],modelView[2]);_TMP60=inversesqrt(_TMP57);_TMP549=1.0/_TMP60;_TMP17=_pt0532*vec3(_TMP533,_TMP541,_TMP549);_r0558.x=dot(_TMP1140384[0],_TMP17);_r0558.y=dot(_TMP1140384[1],_TMP17);_r0558.z=dot(vec3(0.0,0.0,1.0),_TMP17);_pos0115=_pos0115+_r0558;}}\n_TMP19=_pos0115+modelView[3];_v0576=vec4(_TMP19.x,_TMP19.y,_TMP19.z,1.0);_r0576=_v0576.x*projection[0];_r0576=_r0576+_v0576.y*projection[1];_r0576=_r0576+_v0576.z*projection[2];_r0576=_r0576+_v0576.w*projection[3];_outPosition0115=_r0576;_s0580=3.5/animationSize.y;_c0582=vec2(_animTime0115,_s0580);_TMP579=texture2D(animation,_c0582);_outUV0115=_TMP579.xy+((quadVertex[(int(ATTR0.x))]*vec2(1.0,-1.0)+1.0)*0.5)*_TMP579.zw;}}\n_outPosition2=_outPosition0115;_outUV2=_outUV0115;_outColor2=_outColor0115;tz_TexCoord[1].xy=_outUV0115;tz_Color=_outColor0115;gl_Position=_outPosition0115;}"},"vp_render":{"type": "vertex","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[2];attribute vec4 ATTR0;\nvec4 _outPosition2;vec4 _outColor2;vec2 _outUV2;vec3 _TMP19;vec3 _TMP17;float _TMP57;float _TMP60;vec3 _TMP14;float _TMP56;float _TMP55;float _TMP46;float _TMP45;float _TMP43;float _TMP41;vec4 _TMP44;float _TMP58;float _TMP52;vec4 _TMP42;vec4 _TMP40;float _TMP35;vec2 _TMP11;vec4 _TMP39;float _TMP10;vec4 _TMP38;vec2 _TMP9;vec4 _TMP37;float _TMP50;float _TMP8;vec4 _TMP36;float _TMP6;float _TMP5;vec3 _TMP4;vec3 _TMP3;float _TMP33;float _TMP31;float _TMP29;vec4 _TMP32;vec4 _TMP30;vec4 _TMP28;vec2 _TMP27;vec2 _TMP26;vec2 _TMP2;vec4 _TMP20;vec2 _regionIndex0115;float _life0115;vec4 _outPosition0115;vec2 _outUV0115;vec4 _outColor0115;float _animTime0115;vec3 _particlePos0115;vec3 _pos0115;float _fadeOutAlpha0115;vec2 _scale0115;vec2 _inPosition0115;float _rad0115;vec3 _right0115;vec3 _up0115;bool _TMP116;vec2 _TMP117;float _i0118;float _y0118;vec2 _index0118;vec2 _mappingUV10118;float _x0120;vec2 _p0122;vec4 _life0126;vec2 _c0128;float _TMP135;vec4 _TMP141;vec2 _c0144;vec4 _life0146;vec2 _c0148;float _TMP155;float _TMP167;vec4 _c010174;vec2 _c0176;float _TMP183;float _TMP195;vec2 _TMP201;vec2 _enc10202;float _TMP205;vec2 _x0212;vec2 _c0218;float _TMP227;vec2 _c0234;float _TMP243;vec2 _c0250;float _TMP259;float _x0272;float _TMP273;vec4 _TMP295;float _s0296;vec2 _c0298;float _t0300;vec2 _c0302;float _x0306;float _x0308;float _TMP309;vec2 _scale0316;vec4 _TMP319;float _s0320;vec2 _c0322;float _TMP329;float _TMP341;float _t0348;vec2 _c0350;float _x0354;float _rad0356;vec4 _TMP359;float _s0360;vec2 _c0362;float _TMP369;float _t0376;vec2 _c0378;float _x0382;float _c0384;float _s0384;vec3 _TMP1140384[3];float _t0390;vec2 _c0392;float _cp0394;float _sp0394;float _ct0394;float _st0394;vec3 _TMP1130394[3];vec3 _r0404;vec3 _r0412;float _x0422;float _cp0424;float _sp0424;float _ct0424;float _st0424;vec3 _TMP1120424[3];float _a0426;float _a0428;float _a0430;float _a0432;vec3 _C0434[3];vec3 _r0436;vec3 _v0436;vec2 _c0448;float _TMP457;vec2 _c0464;float _TMP473;vec2 _c0480;float _TMP489;vec3 _TMP495[3];vec3 _up0496;vec3 _right0496;vec3 _at0496;vec3 _C0518[3];vec3 _r0520;vec3 _v0520;vec3 _pt0532;float _TMP533;float _TMP541;float _TMP549;vec3 _r0558;float _x0568;float _x0572;vec4 _r0576;vec4 _v0576;vec4 _TMP579;float _s0580;vec2 _c0582;vec3 _TMP583;vec3 _TMP584;vec3 _TMP585;uniform vec2 invTextureSize;uniform vec2 regionSize;uniform vec2 invRegionSize;uniform vec2 regionPos;uniform vec3 halfExtents;uniform vec3 center;uniform float maxLifeTime;uniform vec4 projection[4];uniform vec3 modelView[4];uniform sampler2D mappingTable;uniform vec2 invMappingSize;uniform vec2 mappingPos;uniform sampler2D vParticleState;uniform vec2 PARTICLE_POS;uniform vec2 PARTICLE_VEL;uniform vec2 PARTICLE_LIFE;uniform vec2 PARTICLE_ANIM;uniform vec2 PARTICLE_DATA;uniform vec2 animationSize;uniform sampler2D animation;uniform bool zSorted;uniform vec4 animationScale;uniform vec2 animationRotation;uniform sampler2D noiseTexture;uniform float randomizedRotation;uniform vec2 randomizedScale;uniform vec2 randomizedOrientation;uniform float randomizedAlpha;uniform bool animatedRotation;uniform bool animatedScale;uniform bool animatedOrientation;uniform bool animatedAlpha;uniform float invFadeOutDistance;uniform float fadeScale;uniform vec2 quadVertex[4];void main()\n{_TMP116=true;_i0118=ATTR0.y*3.0;_x0120=_i0118*invRegionSize.x;_y0118=floor(_x0120);_index0118=vec2(_i0118-_y0118*regionSize.x,_y0118*3.0);if(zSorted){_p0122=(_index0118+vec2(1.5,1.5))*invRegionSize;_mappingUV10118=(mappingPos+regionSize*_p0122*vec2(3.33333343E-01,3.33333343E-01))*invMappingSize;_TMP20=texture2D(mappingTable,_mappingUV10118);_TMP117=_TMP20.xy*vec2(765.0,765.0);}else{_TMP117=_index0118;}\n_regionIndex0115=_TMP117+regionPos;_c0128=(_regionIndex0115+PARTICLE_LIFE)*invTextureSize;_life0126=texture2D(vParticleState,_c0128);_TMP50=dot(_life0126.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP135=max(0.0,_TMP52);_life0115=_TMP135*maxLifeTime;if(_life0115==0.0){_outPosition0115=vec4(0.0,0.0,0.0,0.0);_outUV0115=vec2(0.0,0.0);_outColor0115=vec4(0.0,0.0,0.0,0.0);_TMP116=false;}\nif(_TMP116){_c0144=(_regionIndex0115+PARTICLE_DATA)*invTextureSize;_TMP141=texture2D(vParticleState,_c0144);_c0148=(_regionIndex0115+PARTICLE_LIFE)*invTextureSize;_life0146=texture2D(vParticleState,_c0148);_TMP50=dot(_life0146.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP155=max(0.0,_TMP52);_TMP50=dot(_life0146.xy,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP167=max(0.0,_TMP52);_TMP2=vec2(_TMP155,_TMP167);_c0176=(_regionIndex0115+PARTICLE_ANIM)*invTextureSize;_c010174=texture2D(vParticleState,_c0176);_TMP50=dot(_c010174.xy,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP183=max(0.0,_TMP52);_TMP50=dot(_c010174.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP195=max(0.0,_TMP52);_animTime0115=_TMP183-(_TMP2.x/_TMP2.y)*_TMP195;if(_TMP141.z>=1.0){_TMP201=vec2(1.0,1.0);}else{_TMP52=min(1.0,_TMP141.z);_TMP205=max(0.0,_TMP52);_x0212=_TMP205*vec2(16.0,1.0);_TMP26=fract(_x0212);_enc10202=_TMP26*16.0;_enc10202.y=_enc10202.y-_enc10202.x/16.0;_TMP27=floor(_enc10202);_TMP201=_TMP27/15.0;}\n_c0218=(_regionIndex0115+PARTICLE_POS)*invTextureSize;_TMP28=texture2D(vParticleState,_c0218);_TMP58=dot(_TMP28,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP227=max(0.0,_TMP52);_TMP29=(_TMP227-0.5)*2.0;_c0234=(_regionIndex0115+PARTICLE_POS+vec2(0.0,1.0))*invTextureSize;_TMP30=texture2D(vParticleState,_c0234);_TMP58=dot(_TMP30,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP243=max(0.0,_TMP52);_TMP31=(_TMP243-0.5)*2.0;_c0250=(_regionIndex0115+PARTICLE_POS+vec2(0.0,2.0))*invTextureSize;_TMP32=texture2D(vParticleState,_c0250);_TMP58=dot(_TMP32,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP259=max(0.0,_TMP52);_TMP33=(_TMP259-0.5)*2.0;_TMP3=vec3(_TMP29,_TMP31,_TMP33);_particlePos0115=_TMP3*halfExtents;_pos0115=_particlePos0115+center;_TMP4=abs(_particlePos0115);_particlePos0115=halfExtents-_TMP4;_TMP5=min(_particlePos0115.y,_particlePos0115.z);_TMP6=min(_particlePos0115.x,_TMP5);_x0272=_TMP6*invFadeOutDistance;_TMP52=min(1.0,_x0272);_TMP273=max(0.0,_TMP52);_fadeOutAlpha0115=_TMP273*fadeScale+(1.0-fadeScale);_s0296=0.5/animationSize.y;_c0298=vec2(_animTime0115,_s0296);_TMP295=texture2D(animation,_c0298);_outColor0115=_TMP295;_x0306=_TMP141.w*3.18750000E+01;_TMP35=fract(_x0306);if(_TMP35>=0.5){_t0300=_life0115*float(animatedAlpha);_c0302=_TMP201+vec2(2.59169251E-01,9.68880057E-02)*_t0300+vec2(8.36957872E-01,9.04777646E-01);_TMP36=texture2D(noiseTexture,_c0302);_TMP8=(2.0*_TMP36.w-1.0)*randomizedAlpha;_outColor0115.w=_TMP295.w+_TMP8;}\n_x0308=_outColor0115.w*_fadeOutAlpha0115;_TMP52=min(1.0,_x0308);_TMP309=max(0.0,_TMP52);_outColor0115.w=_TMP309;if(_TMP309<4.00000019E-03){_outPosition0115=vec4(0.0,0.0,0.0,0.0);_outUV0115=vec2(0.0,0.0);_outColor0115=vec4(0.0,0.0,0.0,0.0);_TMP116=false;}\nif(_TMP116){_s0320=1.5/animationSize.y;_c0322=vec2(_animTime0115,_s0320);_TMP319=texture2D(animation,_c0322);_TMP50=dot(_TMP319.zw,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP329=max(0.0,_TMP52);_TMP50=dot(_TMP319.xy,vec2(3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP50);_TMP341=max(0.0,_TMP52);_scale0316=vec2(_TMP329,_TMP341);_scale0115=animationScale.xy+_scale0316*animationScale.zw;_x0354=_TMP141.w*7.96875;_TMP35=fract(_x0354);if(_TMP35>=0.5){_t0348=_life0115*float(animatedScale);_c0350=_TMP201+vec2(1.39369339E-01,7.58428156E-01)*_t0348+vec2(1.82852328E-01,1.48580581E-01);_TMP37=texture2D(noiseTexture,_c0350);_TMP9=(2.0*_TMP37.xw-1.0)*randomizedScale;_scale0115=_scale0115+_TMP9;}\n_inPosition0115=(quadVertex[(int(ATTR0.x))]*_scale0115)*0.5;_s0360=2.5/animationSize.y;_c0362=vec2(_animTime0115,_s0360);_TMP359=texture2D(animation,_c0362);_TMP58=dot(_TMP359,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP369=max(0.0,_TMP52);_rad0356=animationRotation.x+_TMP369*animationRotation.y;_rad0115=_rad0356;_x0382=_TMP141.w*3.984375;_TMP35=fract(_x0382);if(_TMP35>=0.5){_t0376=_life0115*float(animatedRotation);_c0378=_TMP201+vec2(6.80039465E-01,3.26437414E-01)*_t0376+vec2(2.60632575E-01,2.91877478E-01);_TMP38=texture2D(noiseTexture,_c0378);_TMP10=(2.0*_TMP38.z-1.0)*randomizedRotation;_rad0115=_rad0356+_TMP10;}\n_c0384=cos(_rad0115);_s0384=sin(_rad0115);_TMP1140384[0]=vec3(_c0384,_s0384,0.0);_TMP1140384[1]=vec3(-_s0384,_c0384,0.0);_right0115=vec3(1.0,0.0,0.0);_up0115=vec3(0.0,1.0,0.0);_x0422=_TMP141.w*1.59375000E+01;_TMP35=fract(_x0422);if(_TMP35>=0.5){_t0390=_life0115*float(animatedOrientation);_c0392=_TMP201+vec2(4.03906703E-01,3.20540577E-01)*_t0390+vec2(4.88128573E-01,9.65456218E-02);_TMP39=texture2D(noiseTexture,_c0392);_TMP11=(2.0*_TMP39.yx-1.0)*randomizedOrientation;_cp0394=cos(_TMP11.y);_sp0394=sin(_TMP11.y);_ct0394=cos(_TMP11.x);_st0394=sin(_TMP11.x);_TMP1130394[0]=vec3(_cp0394,_sp0394*_st0394,-_sp0394*_ct0394);_TMP1130394[1]=vec3(0.0,_ct0394,_st0394);_TMP1130394[2]=vec3(_sp0394,-_cp0394*_st0394,_cp0394*_ct0394);_r0404.x=dot(_TMP1130394[0],vec3(1.0,0.0,0.0));_r0404.y=dot(_TMP1130394[1],vec3(1.0,0.0,0.0));_r0404.z=dot(_TMP1130394[2],vec3(1.0,0.0,0.0));_right0115=_r0404;_r0412.x=dot(_TMP1130394[0],vec3(0.0,1.0,0.0));_r0412.y=dot(_TMP1130394[1],vec3(0.0,1.0,0.0));_r0412.z=dot(_TMP1130394[2],vec3(0.0,1.0,0.0));_up0115=_r0412;}\n_x0572=_TMP141.w*9.96093750E-01;_TMP35=fract(_x0572);if(_TMP35>=0.5){_a0426=_TMP141.x*6.28318548;_cp0424=cos(_a0426);_a0428=_TMP141.x*6.28318548;_sp0424=sin(_a0428);_a0430=_TMP141.y*3.14159274;_ct0424=cos(_a0430);_a0432=_TMP141.y*3.14159274;_st0424=sin(_a0432);_TMP1120424[0]=vec3(_cp0424,_sp0424*_st0424,-_sp0424*_ct0424);_TMP1120424[1]=vec3(0.0,_ct0424,_st0424);_TMP1120424[2]=vec3(_sp0424,-_cp0424*_st0424,_cp0424*_ct0424);_C0434[0]=_TMP1120424[0].x*_TMP1140384[0]+_TMP1120424[0].y*_TMP1140384[1]+_TMP1120424[0].z*vec3(0.0,0.0,1.0);_C0434[1]=_TMP1120424[1].x*_TMP1140384[0]+_TMP1120424[1].y*_TMP1140384[1]+_TMP1120424[1].z*vec3(0.0,0.0,1.0);_C0434[2]=_TMP1120424[2].x*_TMP1140384[0]+_TMP1120424[2].y*_TMP1140384[1]+_TMP1120424[2].z*vec3(0.0,0.0,1.0);_v0436=_right0115*_inPosition0115.x+_up0115*_inPosition0115.y;_r0436.x=dot(_C0434[0],_v0436);_r0436.y=dot(_C0434[1],_v0436);_r0436.z=dot(_C0434[2],_v0436);_pos0115=_pos0115+_r0436;_pos0115=_pos0115.x*modelView[0]+_pos0115.y*modelView[1]+_pos0115.z*modelView[2];}else{_x0568=_TMP141.w*1.9921875;_TMP35=fract(_x0568);if(_TMP35>=0.5){_c0448=(_regionIndex0115+PARTICLE_VEL)*invTextureSize;_TMP40=texture2D(vParticleState,_c0448);_TMP58=dot(_TMP40,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP457=max(0.0,_TMP52);_TMP41=(_TMP457-0.5)*2.0;_c0464=(_regionIndex0115+PARTICLE_VEL+vec2(0.0,1.0))*invTextureSize;_TMP42=texture2D(vParticleState,_c0464);_TMP58=dot(_TMP42,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP473=max(0.0,_TMP52);_TMP43=(_TMP473-0.5)*2.0;_c0480=(_regionIndex0115+PARTICLE_VEL+vec2(0.0,2.0))*invTextureSize;_TMP44=texture2D(vParticleState,_c0480);_TMP58=dot(_TMP44,vec4(5.93718141E-08,1.51991844E-05,3.89099121E-03,9.96093750E-01));_TMP52=min(1.0,_TMP58);_TMP489=max(0.0,_TMP52);_TMP45=(_TMP489-0.5)*2.0;_TMP14=vec3(_TMP41,_TMP43,_TMP45);_right0496=vec3(1.0,0.0,0.0)*_TMP14.zxy-vec3(0.0,0.0,1.0)*_TMP14.yzx;_TMP46=dot(_right0496,_right0496);if(_TMP46<=0.0){_TMP495[0]=vec3(1.0,0.0,0.0);_TMP495[1]=vec3(0.0,0.0,-1.0);_TMP495[2]=vec3(0.0,1.0,0.0);}else{_TMP55=dot(_TMP14,_TMP14);_TMP56=inversesqrt(_TMP55);_at0496=_TMP56*_TMP14;_TMP55=dot(_right0496,_right0496);_TMP56=inversesqrt(_TMP55);_right0496=_TMP56*_right0496;_up0496=_at0496.yzx*_right0496.zxy-_at0496.zxy*_right0496.yzx;_TMP583.x=_right0496.x;_TMP583.y=_up0496.x;_TMP583.z=_at0496.x;_TMP584.x=_right0496.y;_TMP584.y=_up0496.y;_TMP584.z=_at0496.y;_TMP585.x=_right0496.z;_TMP585.y=_up0496.z;_TMP585.z=_at0496.z;_TMP495[0]=_TMP583;_TMP495[1]=_TMP584;_TMP495[2]=_TMP585;}\n_C0518[0]=_TMP495[0].x*_TMP1140384[0]+_TMP495[0].y*_TMP1140384[1]+_TMP495[0].z*vec3(0.0,0.0,1.0);_C0518[1]=_TMP495[1].x*_TMP1140384[0]+_TMP495[1].y*_TMP1140384[1]+_TMP495[1].z*vec3(0.0,0.0,1.0);_C0518[2]=_TMP495[2].x*_TMP1140384[0]+_TMP495[2].y*_TMP1140384[1]+_TMP495[2].z*vec3(0.0,0.0,1.0);_v0520=_right0115*_inPosition0115.x+_up0115*_inPosition0115.y;_r0520.x=dot(_C0518[0],_v0520);_r0520.y=dot(_C0518[1],_v0520);_r0520.z=dot(_C0518[2],_v0520);_pos0115=_pos0115+_r0520;_pos0115=_pos0115.x*modelView[0]+_pos0115.y*modelView[1]+_pos0115.z*modelView[2];}else{_pos0115=_pos0115.x*modelView[0]+_pos0115.y*modelView[1]+_pos0115.z*modelView[2];_pt0532=_right0115*_inPosition0115.x+_up0115*_inPosition0115.y;_TMP57=dot(modelView[0],modelView[0]);_TMP60=inversesqrt(_TMP57);_TMP533=1.0/_TMP60;_TMP57=dot(modelView[1],modelView[1]);_TMP60=inversesqrt(_TMP57);_TMP541=1.0/_TMP60;_TMP57=dot(modelView[2],modelView[2]);_TMP60=inversesqrt(_TMP57);_TMP549=1.0/_TMP60;_TMP17=_pt0532*vec3(_TMP533,_TMP541,_TMP549);_r0558.x=dot(_TMP1140384[0],_TMP17);_r0558.y=dot(_TMP1140384[1],_TMP17);_r0558.z=dot(vec3(0.0,0.0,1.0),_TMP17);_pos0115=_pos0115+_r0558;}}\n_TMP19=_pos0115+modelView[3];_v0576=vec4(_TMP19.x,_TMP19.y,_TMP19.z,1.0);_r0576=_v0576.x*projection[0];_r0576=_r0576+_v0576.y*projection[1];_r0576=_r0576+_v0576.z*projection[2];_r0576=_r0576+_v0576.w*projection[3];_outPosition0115=_r0576;_s0580=3.5/animationSize.y;_c0582=vec2(_animTime0115,_s0580);_TMP579=texture2D(animation,_c0582);_outUV0115=_TMP579.xy+((quadVertex[(int(ATTR0.x))]*vec2(1.0,-1.0)+1.0)*0.5)*_TMP579.zw;}}\n_outPosition2=_outPosition0115;_outUV2=_outUV0115;_outColor2=_outColor0115;tz_TexCoord[1].xy=_outUV0115;tz_Color=_outColor0115;gl_Position=_outPosition0115;}"},"fp_render":{"type": "fragment","code": "#ifdef GL_ES\n#define TZ_LOWP lowp\nprecision mediump float;\nprecision mediump int;\n#else\n#define TZ_LOWP\n#endif\nvarying TZ_LOWP vec4 tz_Color;varying vec4 tz_TexCoord[2];\nvec4 _ret_0;vec4 _TMP0;uniform sampler2D texture;void main()\n{_TMP0=texture2D(texture,tz_TexCoord[1].xy);_ret_0=_TMP0*tz_Color;gl_FragColor=_ret_0;}"}}}